window.__require=function t(e,o,i){function n(c,s){if(!o[c]){if(!e[c]){var a=c.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var u=o[c]={exports:{}};e[c][0].call(u.exports,function(t){return n(e[c][1][t]||t)},u,u.exports,t,e,o,i)}return o[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<i.length;c++)n(i[c]);return n}({Define:[function(t,e,o){"use strict";cc._RF.push(e,"a51c9fwA/9GK5uO/HawgdCZ","Define"),Object.defineProperty(o,"__esModule",{value:!0}),o.FEATURE=o.SKIN=o.COLOR=o.HEADTYPE=o.TYPE=void 0,function(t){t[t.A=0]="A",t[t.B=1]="B",t[t.END=2]="END"}(o.TYPE||(o.TYPE={})),function(t){t[t.ROUND=0]="ROUND",t[t.CONE=1]="CONE",t[t.HEART=2]="HEART"}(o.HEADTYPE||(o.HEADTYPE={})),function(t){t[t.GREEN=0]="GREEN",t[t.BLUE=1]="BLUE",t[t.YELLOW=2]="YELLOW",t[t.PURPLE=3]="PURPLE",t[t.PINK=4]="PINK",t[t.END=5]="END"}(o.COLOR||(o.COLOR={})),function(t){t[t.AQUA_1=0]="AQUA_1",t[t.BLUE_2=1]="BLUE_2",t[t.GREEN_3=2]="GREEN_3",t[t.PINK_1=3]="PINK_1",t[t.YELLOW_2=4]="YELLOW_2",t[t.ORANGE_3=5]="ORANGE_3",t[t.END=6]="END"}(o.SKIN||(o.SKIN={})),function(t){t[t.HEAD=0]="HEAD",t[t.EYES=1]="EYES",t[t.NOSE=2]="NOSE",t[t.MOUTH=3]="MOUTH",t[t.BODY=4]="BODY",t[t.NUM=5]="NUM"}(o.FEATURE||(o.FEATURE={})),cc._RF.pop()},{}],Feature:[function(t,e,o){"use strict";cc._RF.push(e,"98734KulURLabhu7LRGL/9b","Feature");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}();Object.defineProperty(o,"__esModule",{value:!0}),o.Body=o.Mouth=o.Nose=o.Eyes=o.Head=void 0;var n=t("./Define"),r=function(){return function(t,e,o){void 0===o&&(o=n.HEADTYPE.ROUND),this.type=t,this.color=e,this.headType=o}}();o.default=r;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(r);o.Head=c;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(r);o.Eyes=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(r);o.Nose=a;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(r);o.Mouth=l;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(r);o.Body=u,cc._RF.pop()},{"./Define":"Define"}],GameLogicBase:[function(t,e,o){"use strict";cc._RF.push(e,"83c92u2wxxEbJIbMPnG7eTY","GameLogicBase");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,a=5,l=t("./Define"),u=t("./Feature"),p=t("./GameUI"),d=t("./Model"),h=t("./SetItem"),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ModelTemplate=null,e.MysticalModel=null,e.Models=[],e.MysticalModels=[],e.SetItems=[],e.itemLayoutPanel=null,e.gameMode=a,e.timeCallback=function(){this.getComponent(cc.Animation).play("CurtainClose")},e}return i(e,t),e.prototype.start=function(){var t=this;this.gameUI=cc.find("Canvas/GameUIManager").getComponent(p.default),cc.game.on(cc.game.EVENT_GAME_INITED,function(){return t.NewSection()})},e.prototype.CreateSampleModel=function(){this.featuresType=this.getRandomArbitrary(0,l.TYPE.END),this.sampleModel=new d.Model(this.getRandomArbitrary(0,l.SKIN.END-1),new u.Eyes(this.featuresType,this.getRandomArbitrary(0,this.gameMode)),new u.Nose(this.featuresType,this.getRandomArbitrary(0,this.gameMode)),new u.Mouth(this.featuresType,this.getRandomArbitrary(0,this.gameMode))),this.gameMode>=4&&this.sampleModel.Update(null,null,null,new u.Head(this.featuresType,this.getRandomArbitrary(0,this.gameMode))),this.gameMode==a&&this.sampleModel.Update(null,null,null,null,new u.Body(this.featuresType,this.getRandomArbitrary(0,this.gameMode))),this.mainModel=new d.Model},e.prototype.getRandomArbitrary=function(t,e){return Math.floor(Math.random()*(e-t)+t)},e.prototype.Initialize=function(){var t=cc.instantiate(this.Models[this.sampleModel.skin]);t.position=this.ModelTemplate.position,this.node.parent.addChild(t),this.gameUI.mainModel=t,t.getComponent(cc.Animation).play("Instantiate");for(var e=[],o=0;o<this.gameMode;o++){var i=cc.instantiate(this.SetItems[o]);this.itemLayoutPanel.addChild(i),e[o]=[];for(var n=0;n<this.gameMode;n++)e[o][n]=new u.default(this.featuresType,o,this.sampleModel.skin%3);i.getComponent(h.default).Init(e[o][0],e[o][1],e[o][2],e[o][3],e[o][4])}},e.prototype.NewSection=function(){this.CreateSampleModel(),this.Intro()},e.prototype.Intro=function(){var t=this,e=this.gameUI.Curtain.getChildByName("img").getComponent(cc.Animation);e.play("CurtainOpen"),this.MysticalModel.getComponent(cc.Sprite).spriteFrame=this.MysticalModels[this.sampleModel.skin],this.MysticalModel.active=!0;e.scheduleOnce(this.timeCallback,4),e.scheduleOnce(function(){return t.Initialize()},5)},e.prototype.UpdateModel=function(t){this.mainModel.Update(t)},e.prototype.CheckResult=function(){return this.sampleModel.Compare(this.mainModel)},n([s({type:cc.Node})],e.prototype,"ModelTemplate",void 0),n([s({type:cc.Node})],e.prototype,"MysticalModel",void 0),n([s({type:[cc.Prefab]})],e.prototype,"Models",void 0),n([s({type:[cc.SpriteFrame]})],e.prototype,"MysticalModels",void 0),n([s({type:[cc.Prefab]})],e.prototype,"SetItems",void 0),n([s({type:cc.Node})],e.prototype,"itemLayoutPanel",void 0),e=n([c],e)}(cc.Component);o.default=f,cc._RF.pop()},{"./Define":"Define","./Feature":"Feature","./GameUI":"GameUI","./Model":"Model","./SetItem":"SetItem"}],GameUI:[function(t,e,o){"use strict";cc._RF.push(e,"83a259245tIwo1RorcPTgJJ","GameUI");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./GameLogicBase"),c=t("./Define"),s=cc._decorator,a=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.IntroSkin=[],e.RoundHeadList=[],e.RoundHeadList2=[],e.ConeHeadList=[],e.ConeHeadList2=[],e.HeartHeadList=[],e.HeartHeadList2=[],e.WideEyesList=[],e.CloseEyesList=[],e.NoseList=[],e.MouthList=[],e.BodyList=[],e.ScrollView=null,e.Green=null,e.Red=null,e.Curtain=null,e.SampleModel=null,e.NextButton=null,e.BackButton=null,e}return i(e,t),e.prototype.start=function(){this.gameLogic=cc.find("Canvas/GameController").getComponent(r.default),this.checkCount=0,this.currentScrollOffset=cc.Vec2.ZERO},e.prototype.OnPressedCheckButton=function(){var t=this.gameLogic.CheckResult();null!=t&&(this.checkCount++,this.Green.string=t[0].toString(),this.Red.string=t[1].toString(),5==t[0]?this.OnGameWin():(this.AddResultModel(),this.checkCount>6&&(this.currentScrollOffset=new cc.Vec2(140*(this.checkCount-6),0),this.DoScroll()),13==this.checkCount&&this.OnGameOver()),this.CheckActiveButtons())},e.prototype.AddResultModel=function(){var t=cc.instantiate(this.mainModel);t.scale=.33,t.y=-75;var e=cc.instantiate(this.Green.node);e.position=new cc.Vec3(t.x+430,t.y+170,0);var o=cc.instantiate(this.Red.node);o.position=new cc.Vec3(t.x+430,t.y+70,0),e.scale=o.scale=2,t.addChild(e),t.addChild(o),this.ScrollView.node.getChildByName("viewport").getChildByName("content").getChildByName("LifeColor_"+this.checkCount).addChild(t),t.position=new cc.Vec3(-10,-75,0)},e.prototype.OnPressedNextButton=function(){this.checkCount>6&&this.currentScrollOffset.x<140*(this.checkCount-6)&&(this.currentScrollOffset=this.currentScrollOffset.add(new cc.Vec2(140,0))),this.DoScroll(),this.CheckActiveButtons()},e.prototype.OnPressedBackButton=function(){this.currentScrollOffset>cc.Vec2.ZERO&&(this.currentScrollOffset=this.currentScrollOffset.subtract(new cc.Vec2(140,0))),this.DoScroll(),this.CheckActiveButtons()},e.prototype.DoScroll=function(){this.ScrollView.horizontal=!0,this.ScrollView.scrollToOffset(this.currentScrollOffset,.1)},e.prototype.CheckActiveButtons=function(){this.BackButton.node.active=this.currentScrollOffset>cc.Vec2.ZERO,this.NextButton.node.active=this.checkCount>6&&this.currentScrollOffset.x<140*(this.checkCount-6)},e.prototype.OnGameWin=function(){var t=cc.instantiate(this.mainModel);cc.find("Canvas").addChild(t),this.SampleModel.active=!1,t.position=this.SampleModel.position.subtract(new cc.Vec3(0,30,0)),t.scale=.4,this.Curtain.getChildByName("img").getComponent(cc.Animation).play("CurtainOpen")},e.prototype.OnGameOver=function(){cc.game.restart()},e.prototype.InitModelType=function(t){switch(t){case c.HEADTYPE.ROUND:this.headList=this.gameLogic.featuresType?this.RoundHeadList2:this.RoundHeadList,this.eyesList=this.CloseEyesList;break;case c.HEADTYPE.CONE:this.headList=this.gameLogic.featuresType?this.ConeHeadList2:this.ConeHeadList,this.eyesList=this.CloseEyesList;break;case c.HEADTYPE.HEART:this.headList=this.gameLogic.featuresType?this.HeartHeadList2:this.HeartHeadList,this.eyesList=this.WideEyesList}},e.prototype.UpdateMainModel=function(t,e){switch(t){case c.FEATURE.HEAD:(o=this.mainModel.getChildByName("head")).getComponent(cc.Sprite).spriteFrame=this.headList[e.color],o.y=this.gameLogic.featuresType?165:e.color==c.COLOR.GREEN?190:178,o.active=!0,o.getComponent(cc.Animation).play("Instantiate");break;case c.FEATURE.EYES:(o=this.mainModel.getChildByName("eyes")).getComponent(cc.Sprite).spriteFrame=this.eyesList[e.color],o.active=!0,o.getComponent(cc.Animation).play("Instantiate");break;case c.FEATURE.NOSE:(o=this.mainModel.getChildByName("nose")).getComponent(cc.Sprite).spriteFrame=this.NoseList[e.color],o.active=!0,o.getComponent(cc.Animation).play("Instantiate");break;case c.FEATURE.MOUTH:(o=this.mainModel.getChildByName("mouth")).getComponent(cc.Sprite).spriteFrame=this.MouthList[e.color],o.active=!0,o.getComponent(cc.Animation).play("Instantiate");break;case c.FEATURE.BODY:var o;(o=this.mainModel.getChildByName("body")).getComponent(cc.Sprite).spriteFrame=this.BodyList[e.color],o.active=!0,o.getComponent(cc.Animation).play("Instantiate")}},n([l({type:[cc.Prefab]})],e.prototype,"IntroSkin",void 0),n([l({type:[cc.SpriteFrame]})],e.prototype,"RoundHeadList",void 0),n([l({type:[cc.SpriteFrame]})],e.prototype,"RoundHeadList2",void 0),n([l({type:[cc.SpriteFrame]})],e.prototype,"ConeHeadList",void 0),n([l({type:[cc.SpriteFrame]})],e.prototype,"ConeHeadList2",void 0),n([l({type:[cc.SpriteFrame]})],e.prototype,"HeartHeadList",void 0),n([l({type:[cc.SpriteFrame]})],e.prototype,"HeartHeadList2",void 0),n([l({type:[cc.SpriteFrame]})],e.prototype,"WideEyesList",void 0),n([l({type:[cc.SpriteFrame]})],e.prototype,"CloseEyesList",void 0),n([l({type:[cc.SpriteFrame]})],e.prototype,"NoseList",void 0),n([l({type:[cc.SpriteFrame]})],e.prototype,"MouthList",void 0),n([l({type:[cc.SpriteFrame]})],e.prototype,"BodyList",void 0),n([l({type:cc.ScrollView})],e.prototype,"ScrollView",void 0),n([l(cc.Label)],e.prototype,"Green",void 0),n([l(cc.Label)],e.prototype,"Red",void 0),n([l(cc.Node)],e.prototype,"Curtain",void 0),n([l(cc.Node)],e.prototype,"SampleModel",void 0),n([l(cc.Button)],e.prototype,"NextButton",void 0),n([l(cc.Button)],e.prototype,"BackButton",void 0),e=n([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./Define":"Define","./GameLogicBase":"GameLogicBase"}],Holder:[function(t,e,o){"use strict";cc._RF.push(e,"7345efMUoxFN4qJLHNpD0b8","Holder");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.button=null,e.spriteTrue=null,e.spriteFalse=null,e}return i(e,t),e.prototype.OnButtonPressed=function(){var t=this.spriteTrue.node.active,e=this.spriteFalse.node.active;(t||e)&&(this.spriteFalse.node.active=!this.spriteFalse.node.active),e||(this.spriteTrue.node.active=!this.spriteTrue.node.active)},n([s(cc.Button)],e.prototype,"button",void 0),n([s(cc.Sprite)],e.prototype,"spriteTrue",void 0),n([s(cc.Sprite)],e.prototype,"spriteFalse",void 0),e=n([c],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],Model:[function(t,e,o){"use strict";cc._RF.push(e,"d4f23qCBVZEoYFFhjs9Knwi","Model"),Object.defineProperty(o,"__esModule",{value:!0}),o.Model=void 0;var i=t("./Define"),n=function(){function t(t,e,o,i,n,r){void 0===t&&(t=null),void 0===e&&(e=null),void 0===o&&(o=null),void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=null),this.skin=t,this.eyes=e,this.nose=o,this.mouth=i,this.head=n,this.body=r,this.features=[this.head,this.eyes,this.nose,this.mouth,this.body]}return t.prototype.Update=function(t,e,o,i,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===o&&(o=null),void 0===i&&(i=null),void 0===n&&(n=null),this.eyes=null!=t?t:this.eyes,this.nose=null!=e?e:this.nose,this.mouth=null!=o?o:this.mouth,this.head=null!=i?i:this.head,this.body=null!=n?n:this.body,this.features=[this.head,this.eyes,this.nose,this.mouth,this.body]},t.prototype.Compare=function(t){for(var e=0,o=0,n=0;n<i.FEATURE.NUM;n++)for(var r=0;r<i.FEATURE.NUM;r++){if(null==t.features[n])return null;if(this.features[n].color==t.features[n].color){e++;break}this.features[n].color==t.features[r].color&&o++}return[e,o]},t}();o.Model=n,cc._RF.pop()},{"./Define":"Define"}],SetItem:[function(t,e,o){"use strict";cc._RF.push(e,"7b34bWfWr1JBoGsoYm437np","SetItem");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./GameLogicBase"),c=t("./GameUI"),s=t("./Define"),a=cc._decorator,l=a.ccclass,u=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.Init=function(t,e,o,i,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===o&&(o=null),void 0===i&&(i=null),void 0===n&&(n=null),this.head=t,this.eyes=e,this.nose=o,this.mouth=i,this.body=n,this.gameLogic=cc.find("Canvas/GameController").getComponent(r.default),this.gameUI=cc.find("Canvas/GameUIManager").getComponent(c.default),this.gameUI.InitModelType(this.head.headType)},e.prototype.EyesClicked=function(){this.gameLogic.mainModel.Update(this.eyes,null,null,null,null),this.gameUI.UpdateMainModel(s.FEATURE.EYES,this.eyes)},e.prototype.NoseClicked=function(){this.gameLogic.mainModel.Update(null,this.eyes,null,null,null),this.gameUI.UpdateMainModel(s.FEATURE.NOSE,this.nose)},e.prototype.MouthClicked=function(){this.gameLogic.mainModel.Update(null,null,this.mouth,null,null),this.gameUI.UpdateMainModel(s.FEATURE.MOUTH,this.mouth)},e.prototype.HeadClicked=function(){this.gameLogic.mainModel.Update(null,null,null,this.head,null),this.gameUI.UpdateMainModel(s.FEATURE.HEAD,this.head)},e.prototype.BodyClicked=function(){this.gameLogic.mainModel.Update(null,null,null,null,this.body),this.gameUI.UpdateMainModel(s.FEATURE.BODY,this.body)},e=n([l],e)}(cc.Component));o.default=u,cc._RF.pop()},{"./Define":"Define","./GameLogicBase":"GameLogicBase","./GameUI":"GameUI"}]},{},["Define","Feature","GameLogicBase","GameUI","Holder","Model","SetItem"]);