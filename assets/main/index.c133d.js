window.__require=function e(t,n,i){function o(s,r){if(!n[s]){if(!t[s]){var a=s.split("/");if(a=a[a.length-1],!t[a]){var u="function"==typeof __require&&__require;if(!r&&u)return u(a,!0);if(c)return c(a,!0);throw new Error("Cannot find module '"+s+"'")}s=a}var h=n[s]={exports:{}};t[s][0].call(h.exports,function(e){return o(t[s][1][e]||e)},h,h.exports,e,t,n,i)}return n[s].exports}for(var c="function"==typeof __require&&__require,s=0;s<i.length;s++)o(i[s]);return o}({Canvas:[function(e,t){"use strict";cc._RF.push(t,"4adf0KP7j9AebvjjGKnS84A","Canvas");var n,i,o,c,s,r=!1,a=!1;cc.Class({extends:cc.Component,properties:{Zombies:[cc.Node],GunSound:cc.AudioClip},onLoad:function(){this.adjustViewSize(),this.node.on("touchstart",this.handlePress,this),this.node.on("touchmove",this.handleMove,this),this.node.on("touchend",function(){return r=!1}),this.node.on("aiming",this.handleAiming,this),this.node.on("result",this.handleResult,this),n=cc.find("Overlay",this.node),i=cc.find("Result",this.node),o=cc.find("Aiming Camera",this.node),c=cc.find("PointerAiming",this.node),s=cc.find("Pointer",this.node)},adjustViewSize:function(){var e=this.node.getComponent(cc.Canvas),t=cc.view.getFrameSize(),n=e.designResolution;t.width/t.height>=n.width/n.height?(e.fitHeight=!0,e.fitWidth=!1):(e.fitHeight=!1,e.fitWidth=!0)},handlePress:function(){r=!0,cc.audioEngine.play(this.GunSound);for(var e=s,t=e.x,n=e.y,i=0;i<this.Zombies.length;i++){var o=this.Zombies[i],c={T:o.y-o.height*o.anchorY,B:o.y+o.height*o.anchorY,L:o.x-o.width*o.anchorX,R:o.x+o.width*o.anchorX};t>c.L&&t<c.R&&n>c.T&&n<c.B&&(o.active=!1,this.Zombies.splice(i,1))}this.Zombies.length||this.node.emit("result",{result:!0})},handleMove:function(e){if(r){var t=e.getLocation(),n=t.x,i=t.y,c=e.getPreviousLocation(),u=c.x,h=c.y;if(s.x+=n-u,s.y+=i-h,o.x+=n-u,o.y+=i-h,a){var d=o,f=d.x,l=d.y,p=d.anchorX,v=d.anchorY,g=this.node,m=g.width,C=g.height;C*=v,f<=-(m=m*p-220)&&(s.x=-m,o.x=-m),f>=m&&(s.x=m,o.x=m),l<=-C&&(s.y=-C,o.y=-C),l>=C&&(s.y=C,o.y=C)}}},handleAiming:function(e){a=e.isAiming,o.active=a,c.active=a},handleResult:function(e){var t=e.result?"You Won!":"You Lost!";n.active=!0,i.active=!0,i.getComponent(cc.Label).string=t}}),cc._RF.pop()},{}],ControlAim:[function(e,t){"use strict";cc._RF.push(t,"1466cA2tcdEKbhILuOlxfTV","ControlAim"),cc.Class({extends:cc.Component,properties:{Gun:cc.Node},start:function(){var e=this;this.node.on("touchstart",function(t){e.Gun.getComponent("Gun").toggleAim(),t.stopPropagation()})}}),cc._RF.pop()},{}],Gun:[function(e,t){"use strict";cc._RF.push(t,"707e0AxJClLX5YEfx1TEfpK","Gun");var n=!1,i=null;cc.Class({extends:cc.Component,onLoad:function(){i=this.node.getComponent(cc.Animation)},toggleAim:function(){var e=this,t=i.play(),o=cc.WrapMode,c=o.Reverse,s=o.Normal;t._wrapMode=n?c:s,setTimeout(function(){n=!n;var t=new cc.Event.EventCustom("aiming",!0);t.isAiming=n,e.node.active=!e.node.active,e.node.dispatchEvent(t)},n?0:800)}}),cc._RF.pop()},{}],Mob:[function(e,t,n){"use strict";var i;cc._RF.push(t,"a5af2rKqDJB1Iqddegxfjm0","Mob"),n.__esModule=!0,n.default=void 0;var o=cc.Class({extends:cc.Component,properties:{hitRate:.5,damage:20,frequency:3},onLoad:function(){i=cc.find("Canvas/HP").getComponent(cc.ProgressBar),this.schedule(this.attack,this.frequency)},attack:function(){var e=1-Math.random();if(this.hitRate>=e&&(i.progress=i.progress-this.damage/i.totalLength),i.progress<=0){this.unscheduleAllCallbacks();var t=new cc.Event.EventCustom("result",!0);t.result=!1,this.node.dispatchEvent(t)}}});n.default=o,t.exports=n.default,cc._RF.pop()},{}],ZombieLeft:[function(e,t){"use strict";cc._RF.push(t,"cdf35tDIq9FE6lvuByebPB1","ZombieLeft");var n,i=(n=e("Mob"))&&n.__esModule?n:{default:n};cc.Class({extends:i.default,properties:{hitRate:{get:function(){return.7},override:!0},frequency:{get:function(){return 2},override:!0}}}),cc._RF.pop()},{Mob:"Mob"}],ZombieRoof:[function(e,t){"use strict";cc._RF.push(t,"4913dhwKWRMwrrnTxVS06o5","ZombieRoof");var n,i=(n=e("Mob"))&&n.__esModule?n:{default:n};cc.Class({extends:i.default,properties:{hitRate:{get:function(){return.4},override:!0},damage:{get:function(){return 30},override:!0},frequency:{get:function(){return 5},override:!0}}}),cc._RF.pop()},{Mob:"Mob"}]},{},["Canvas","ControlAim","Gun","Mob","ZombieLeft","ZombieRoof"]);