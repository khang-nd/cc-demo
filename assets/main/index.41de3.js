window.__require=function e(t,n,o){function i(c,s){if(!n[c]){if(!t[c]){var a=c.split("/");if(a=a[a.length-1],!t[a]){var u="function"==typeof __require&&__require;if(!s&&u)return u(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var h=n[c]={exports:{}};t[c][0].call(h.exports,function(e){return i(t[c][1][e]||e)},h,h.exports,e,t,n,o)}return n[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<o.length;c++)i(o[c]);return i}({Canvas:[function(e,t){"use strict";cc._RF.push(t,"4adf0KP7j9AebvjjGKnS84A","Canvas");var n,o,i=!1;cc.Class({extends:cc.Component,properties:{Pointer:cc.Node,Zombies:[cc.Node],Camera:cc.Node,GunSound:cc.AudioClip},onLoad:function(){this.adjustViewSize(),this.node.on("touchstart",this.handlePress,this),this.node.on("touchmove",this.handleMove,this),this.node.on("touchend",function(){return i=!1}),this.node.on("aiming",this.handleAiming,this),this.node.on("result",this.handleResult,this),this.Camera=this.Camera.getComponent(cc.Camera),n=cc.find("Canvas/Overlay"),o=cc.find("Canvas/Result")},adjustViewSize:function(){var e=this.node.getComponent(cc.Canvas),t=cc.view.getFrameSize(),n=e.designResolution;t.width/t.height>=n.width/n.height?(e.fitHeight=!0,e.fitWidth=!1):(e.fitHeight=!1,e.fitWidth=!0)},handlePress:function(){i=!0,cc.audioEngine.play(this.GunSound);for(var e=this.Pointer,t=e.x,n=e.y,o=0;o<this.Zombies.length;o++){var r=this.Zombies[o],c={T:r.y-r.height*r.anchorY,B:r.y+r.height*r.anchorY,L:r.x-r.width*r.anchorX,R:r.x+r.width*r.anchorX};t>c.L&&t<c.R&&n>c.T&&n<c.B&&(r.active=!1,this.Zombies.splice(o,1))}this.Zombies.length||this.node.emit("result",{result:!0})},handleMove:function(e){if(i){var t=e.getLocation(),n=t.x,o=t.y,r=e.getPreviousLocation(),c=r.x,s=r.y;this.Pointer.x+=n-c,this.Pointer.y+=o-s}},handleAiming:function(e){var t=this.Pointer.getComponent(cc.Camera);e.isAiming?(this.Pointer.x=this.Pointer.y=0,t.enabled=!0,t.zoomRatio=1.5):(this.node.on("touchmove",this.handleMove,this),t.enabled=!1,t.zoomRatio=1)},handleResult:function(e){console.log(e);var t=e.result?"You Won!":"You Lost!";n.active=!0,o.active=!0,o.getComponent(cc.Label).string=t}}),cc._RF.pop()},{}],ControlAim:[function(e,t){"use strict";cc._RF.push(t,"1466cA2tcdEKbhILuOlxfTV","ControlAim"),cc.Class({extends:cc.Component,properties:{Gun:cc.Node},start:function(){var e=this;this.node.on("touchstart",function(t){e.Gun.getComponent("Gun").toggleAim(),t.stopPropagation()})}}),cc._RF.pop()},{}],Gun:[function(e,t){"use strict";cc._RF.push(t,"707e0AxJClLX5YEfx1TEfpK","Gun");var n=!1,o=null,i=null;cc.Class({extends:cc.Component,properties:{Pointer:cc.Node,defaultSprite:cc.SpriteFrame,aimingSprite:cc.SpriteFrame},onLoad:function(){o=this.node.getComponent(cc.Animation),i=this.Pointer.getComponent(cc.Sprite)},toggleAim:function(){var e=this,t=o.play(),r=cc.WrapMode,c=r.Reverse,s=r.Normal;t._wrapMode=n?c:s,setTimeout(function(){n=!n,i.spriteFrame=n?e.aimingSprite:e.defaultSprite;var t=new cc.Event.EventCustom("aiming",!0);t.isAiming=n,e.node.active=!e.node.active,e.node.dispatchEvent(t)},n?0:800)}}),cc._RF.pop()},{}],Mob:[function(e,t,n){"use strict";var o;cc._RF.push(t,"a5af2rKqDJB1Iqddegxfjm0","Mob"),n.__esModule=!0,n.default=void 0;var i=cc.Class({extends:cc.Component,properties:{hitRate:.5,damage:20,frequency:3},onLoad:function(){o=cc.find("Canvas/HP").getComponent(cc.ProgressBar),this.schedule(this.attack,this.frequency)},attack:function(){var e=1-Math.random();if(this.hitRate>=e&&(o.progress=o.progress-this.damage/o.totalLength),o.progress<=0){this.unscheduleAllCallbacks();var t=new cc.Event.EventCustom("result",!0);t.result=!1,this.node.dispatchEvent(t)}}});n.default=i,t.exports=n.default,cc._RF.pop()},{}],ZombieLeft:[function(e,t){"use strict";cc._RF.push(t,"cdf35tDIq9FE6lvuByebPB1","ZombieLeft");var n,o=(n=e("Mob"))&&n.__esModule?n:{default:n};cc.Class({extends:o.default,properties:{hitRate:{get:function(){return.7},override:!0},frequency:{get:function(){return 2},override:!0}}}),cc._RF.pop()},{Mob:"Mob"}],ZombieRoof:[function(e,t){"use strict";cc._RF.push(t,"4913dhwKWRMwrrnTxVS06o5","ZombieRoof");var n,o=(n=e("Mob"))&&n.__esModule?n:{default:n};cc.Class({extends:o.default,properties:{hitRate:{get:function(){return.4},override:!0},damage:{get:function(){return 30},override:!0},frequency:{get:function(){return 5},override:!0}}}),cc._RF.pop()},{Mob:"Mob"}]},{},["Canvas","ControlAim","Gun","Mob","ZombieLeft","ZombieRoof"]);